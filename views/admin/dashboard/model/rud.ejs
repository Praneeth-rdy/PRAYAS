<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../layout/head.ejs') %>
</head>
<body class="animsition">
    <div class="page-wrapper">

        <%- include('../layout/header/mobile-header.ejs') %> 

        <!-- PAGE CONTAINER-->
        <div class="page-container">
            
            <%- include('../layout/header/desktop-header.ejs') %> 

            <!-- MAIN CONTENT-->
            <div class="main-content">
                <%- include('../layout/message.ejs') %>
                <form id="updateItemForm" action="/admin/dashboard/<%= model.options.name.singular %>" method="PUT">
                    <div class="form-row">
                        <% for(const fieldName in model.rawAttributes) { %>
                            <% if (!model.rawAttributes[fieldName]._autoGenerated){ %>
                                
                                    <% if(inputs[model.rawAttributes[fieldName].type.key].tag === 'textarea'){ %>
                                        <div class="col-md-12 mb-3">
                                            <label for="<%= fieldName %>"><%= fieldName %></label>
                                            <textarea class="form-control" id="<%= fieldName %>" name="<%= fieldName %>"
                                                placeholder="Enter <%= fieldName %>" <%= model.rawAttributes[fieldName].validate.notEmpty?'required':'' %>><%= modelItem[fieldName] %></textarea>
                                            <div class="invalid-feedback">
                                                Invalid Input
                                            </div>
                                        </div>
                                    <% } else if (inputs[model.rawAttributes[fieldName].type.key].type === 'checkbox'){ %> 
                                        <div class="form-group m-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="<%= fieldName %>" <%= (modelItem[fieldName] === true)?'checked':'' %> name="<%= fieldName %>">
                                                <label class="form-check-label" for="<%= fieldName %>">
                                                    <%= fieldName %> 
                                                </label>
                                            </div>
                                        </div>
                                    <% } else { %>
                                        <div class="col-md-12 mb-3">
                                            <label for="<%= fieldName %>"><%= fieldName %></label>
                                            <<%= inputs[model.rawAttributes[fieldName].type.key].tag %> type="<%= inputs[model.rawAttributes[fieldName].type.key].type %>" class="form-control" id="<%= fieldName %>" name="<%= fieldName %>"
                                                placeholder="Enter <%= fieldName %>" value="<%= modelItem[fieldName] %>" <%= (model.rawAttributes[fieldName].validate && model.rawAttributes[fieldName].validate.notEmpty)?'required':'' %>>
                                            <div class="invalid-feedback">
                                                Invalid Input
                                            </div>
                                        </div>
                                    <% } %>
                                
                            <% } %>
                        <% } %>
                    </div>
                </form>
                <button class="btn btn-primary"
                data-form="#updateItemForm"
                data-method="put"
                data-url="/admin/dashboard/<%= model.options.name.singular %>/<%= modelItem.id %>"
                success-redirect="/admin/dashboard/<%= model.options.name.singular %>">
                    Update
                </button>
            </div>
            <!-- END MAIN CONTENT-->
            <!-- END PAGE CONTAINER-->
        </div>

    </div>

    <%- include('../layout/scripts.ejs') %>

</body>
</html>


